import { useState, useEffect } from "react"; import * as React from "react"; import { useLocalSearchParams } from "expo-router"; import { Text, Searchbar, Modal, Portal, Button, PaperProvider, } from "react-native-paper"; import { SafeAreaView } from "react-native-safe-area-context"; import foodJSON from "../data.json"; import { View, Image, ScrollView } from "react-native"; const COLOR_THEMES = ["#85B4F2", "#C5F263", "#F2D857", "#F27979", "#9B59B6"]; export default function Details() { const [visible, setVisible] = useState(false); const [searchQuery, setSearchQuery] = useState(""); const [colorIndex, setColorIndex] = useState(0); const showModal = () => setVisible(true); const hideModal = () => setVisible(false); const params = useLocalSearchParams(); const foodID = params?.id; const food = foodJSON.foods.find((item) => item.id == foodID); useEffect(() => { const interval = setInterval(() => { setColorIndex((prev) => (prev + 1) % COLOR_THEMES.length); }, 800); return () => clearInterval(interval); }, []); return ( <ScrollView style={{ backgroundColor: "#fff" }}> <SafeAreaView> {/* Search */} <View> <Searchbar placeholder="Search" onChangeText={setSearchQuery} value={searchQuery} style={{ marginTop: 20, marginBottom: 20, width: 450, alignSelf: "center", backgroundColor: "#E6EAED", }} /> </View> {/* Image */} <View style={{ alignItems: "center", marginVertical: 20 }}> <Image source={{ uri: food?.image }} style={{ width: 450, height: 200, borderRadius: 20, borderWidth: 5, borderColor: COLOR_THEMES[colorIndex], }} /> </View> {/* Food Info */} <View style={{ marginHorizontal: 20 }}> <Text style={{ fontSize: 25, fontWeight: "bold", color: "#000" }}> {food?.name} </Text> <Text style={{ fontSize: 15, color: "#000", marginTop: 5 }}> Asal: {food?.region} </Text> <Text style={{ fontSize: 15, color: "#000", marginTop: 5 }}> Cooking Time: {food?.cookingTime} </Text> <Text style={{ fontSize: 15, color: "#000", marginTop: 15, width: "90%", lineHeight: 22, }} > Deskripsi: {food?.description} </Text> </View> {/* Modal + Button */} <View style={{ flex: 1, justifyContent: "center", backgroundColor: "#f9fafb", padding: 20, }} > <PaperProvider> <Portal> <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={{ backgroundColor: "white", padding: 24, marginHorizontal: 20, borderRadius: 20, shadowColor: "#000", shadowOpacity: 0.15, shadowRadius: 10, elevation: 5, }} > <Text style={{ fontSize: 18, fontWeight: "600", marginBottom: 10, color: "#111827", }} > Bahan-Bahan </Text> {Array.isArray(food?.ingredients) ? ( food.ingredients.map((item, index) => ( <Text key={index} style={{ fontSize: 15, color: "#374151", lineHeight: 22, }} > • {item} </Text> )) ) : ( <Text style={{ fontSize: 15, color: "#374151", lineHeight: 22, }} > • {food?.ingredients} </Text> )} <Button mode="contained-tonal" onPress={hideModal} style={{ marginTop: 20, borderRadius: 10, alignSelf: "center", paddingVertical: 6, paddingHorizontal: 20, }} labelStyle={{ fontWeight: "600", fontSize: 14, color: "#000", }} > Close </Button> </Modal> </Portal> <Button mode="contained" onPress={showModal} style={{ marginTop: 30, borderRadius: 10, backgroundColor: "#2563eb", alignSelf: "center", paddingVertical: 6, paddingHorizontal: 20, }} labelStyle={{ fontSize: 14, fontWeight: "600", color: "#fff", }} > Show </Button> </PaperProvider> </View> </SafeAreaView> </ScrollView> ); }